{"ast":null,"code":"// function that injects code to a specific tab\nfunction injectScript(tabId) {\n  chrome.scripting.executeScript({\n    target: {\n      tabId: tabId\n    },\n    files: ['inject.js']\n  });\n}\n\nchrome.tabs.onUpdated.addListener(function (tabId, changeInfo, tab) {\n  // read changeInfo data and do something with it (like read the url)\n  if (changeInfo.url) {\n    chrome.storage.local.set({\n      url: changeInfo.url\n    });\n    chrome.storage.local.get(['url'], function (res) {\n      console.log(res);\n    }); // calls the inject function\n    //injectScript(tabId);\n  }\n});","map":{"version":3,"names":["injectScript","tabId","chrome","scripting","executeScript","target","files","tabs","onUpdated","addListener","changeInfo","tab","url","storage","local","set","get","res","console","log"],"sources":["/Users/p/Desktop/thesis/lab/code/web-plugin/src/entry/background.js"],"sourcesContent":["// function that injects code to a specific tab\nfunction injectScript(tabId) {\n  chrome.scripting.executeScript(\n    {\n      target: {tabId: tabId},\n      files: ['inject.js'],\n    }\n  );\n\n}\n\nchrome.tabs.onUpdated.addListener(function\n  (tabId, changeInfo, tab) {\n    // read changeInfo data and do something with it (like read the url)\n    if (changeInfo.url) {\n      chrome.storage.local.set({url: changeInfo.url});\n      chrome.storage.local.get(['url'], function(res) {\n        console.log(res);\n      });\n      // calls the inject function\n      //injectScript(tabId);\n    }\n  }\n);"],"mappings":"AAAA;AACA,SAASA,YAAT,CAAsBC,KAAtB,EAA6B;EAC3BC,MAAM,CAACC,SAAP,CAAiBC,aAAjB,CACE;IACEC,MAAM,EAAE;MAACJ,KAAK,EAAEA;IAAR,CADV;IAEEK,KAAK,EAAE,CAAC,WAAD;EAFT,CADF;AAOD;;AAEDJ,MAAM,CAACK,IAAP,CAAYC,SAAZ,CAAsBC,WAAtB,CAAkC,UAC/BR,KAD+B,EACxBS,UADwB,EACZC,GADY,EACP;EACvB;EACA,IAAID,UAAU,CAACE,GAAf,EAAoB;IAClBV,MAAM,CAACW,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB;MAACH,GAAG,EAAEF,UAAU,CAACE;IAAjB,CAAzB;IACAV,MAAM,CAACW,OAAP,CAAeC,KAAf,CAAqBE,GAArB,CAAyB,CAAC,KAAD,CAAzB,EAAkC,UAASC,GAAT,EAAc;MAC9CC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAFD,EAFkB,CAKlB;IACA;EACD;AACF,CAXH"},"metadata":{},"sourceType":"script"}