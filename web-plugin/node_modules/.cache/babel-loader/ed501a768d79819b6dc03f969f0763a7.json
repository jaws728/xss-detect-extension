{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'popupView',\n\n  data() {\n    return {\n      resData: 'loading...',\n      url: '',\n      baseURL: 'http://127.0.0.1:5000/api/model',\n      test: 0\n    };\n  },\n\n  methods: {\n    getXSS(q) {\n      return axios({\n        url: this.baseURL + '?q=' + q,\n        method: 'post'\n      });\n    },\n\n    async init() {\n      // this.bg = chrome.extension.getBackgroundPage().q;\n      chrome.storage.local.get(['url'], async function (store) {\n        // this.url += res.url;\n        // console.log('url set to: ', res.url, 'this.url to: ', this.url);\n        try {\n          const {\n            data: res\n          } = await this.getXSS(store.url);\n          this.resData = res;\n          console.log('Get XSS result: ', res);\n        } catch (e) {\n          console.log('Error: ', e);\n        }\n      }); // this.resData = this.q;\n      // chrome.storage.local.get(['xss'], function (res) {\n      //   if (res !== null) {\n      //     this.resData = res.xss;\n      //   }\n      // });\n      // if (window.localStorage.getItem('xss') !== null) {\n      //   this.resData = window.localStorage.getItem('xss');\n      // }\n      // if (this.resData === null || this.resData === 'loading...') {\n      //   try {\n      //     this.resData = q;\n      //     // const { data } = await requestMixin.methods.getXssRequest(q);\n      //     // this.resData = data;\n      //   } catch (e) {\n      //     console.error(e);\n      //   }\n      // }\n      // alert(this.resData);\n    }\n\n  },\n\n  created() {\n    chrome.storage.local.get(['test'], function (res) {\n      this.test = res.test;\n      console.log('test set to ', res.test);\n    });\n    this.init();\n  }\n\n};","map":{"version":3,"mappings":"AAcA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,WADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,YADJ;MAELC,GAAG,EAAE,EAFA;MAGLC,OAAO,EAAE,iCAHJ;MAILC,IAAI,EAAE;IAJD,CAAP;EAMD,CATY;;EAUbC,OAAO,EAAE;IACPC,MAAM,CAACC,CAAD,EAAI;MACR,OAAOT,KAAK,CAAC;QACXI,GAAG,EAAE,KAAKC,OAAL,GAAe,KAAf,GAAuBI,CADjB;QAEXC,MAAM,EAAE;MAFG,CAAD,CAAZ;IAID,CANM;;IAOP,MAAMC,IAAN,GAAa;MACX;MACAC,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,CAAC,KAAD,CAAzB,EAAkC,gBAAgBC,KAAhB,EAAuB;QACvD;QACA;QACA,IAAI;UACF,MAAM;YAAEd,IAAI,EAAEe;UAAR,IAAgB,MAAM,KAAKT,MAAL,CAAYQ,KAAK,CAACZ,GAAlB,CAA5B;UACA,KAAKD,OAAL,GAAec,GAAf;UACAC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,GAAhC;QACF,CAJA,CAIE,OAAOG,CAAP,EAAU;UACVF,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBC,CAAvB;QACF;MACD,CAVD,EAFW,CAaX;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACD;;EAvCM,CAVI;;EAmDbC,OAAO,GAAG;IACRT,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,CAAC,MAAD,CAAzB,EAAmC,UAAUE,GAAV,EAAe;MAChD,KAAKX,IAAL,GAAYW,GAAG,CAACX,IAAhB;MACAY,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAAG,CAACX,IAAhC;IACD,CAHD;IAIA,KAAKK,IAAL;EACD;;AAzDY,CAAf","names":["axios","name","data","resData","url","baseURL","test","methods","getXSS","q","method","init","chrome","storage","local","get","store","res","console","log","e","created"],"sourceRoot":"","sources":["D:\\jaws7\\Desktop\\lab\\code\\web-plugin\\src\\view\\popup.vue"],"sourcesContent":["<template>\n  <div class=\"main_app\">\n    <button @click.prevent=\"init\">Check XSS</button>\n    <div>{{ resData }}</div>\n    <div>----------</div>\n    <div>{{ url }}</div>\n    <div>----------</div>\n    <div>TEST: {{ test }}</div>\n    <!-- <div v-if=\"isXss\">There is a XSS attack!</div>\n    <div v-else>This site is safe.</div> -->\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'popupView',\n  data() {\n    return {\n      resData: 'loading...',\n      url: '',\n      baseURL: 'http://127.0.0.1:5000/api/model',\n      test: 0,\n    };\n  },\n  methods: {\n    getXSS(q) {\n      return axios({\n        url: this.baseURL + '?q=' + q,\n        method: 'post',\n      });\n    },\n    async init() {\n      // this.bg = chrome.extension.getBackgroundPage().q;\n      chrome.storage.local.get(['url'], async function (store) {\n        // this.url += res.url;\n        // console.log('url set to: ', res.url, 'this.url to: ', this.url);\n        try {\n          const { data: res } = await this.getXSS(store.url);\n          this.resData = res;\n          console.log('Get XSS result: ', res);\n        } catch (e) {\n          console.log('Error: ', e);\n        }\n      });\n      // this.resData = this.q;\n      // chrome.storage.local.get(['xss'], function (res) {\n      //   if (res !== null) {\n      //     this.resData = res.xss;\n      //   }\n      // });\n      // if (window.localStorage.getItem('xss') !== null) {\n      //   this.resData = window.localStorage.getItem('xss');\n      // }\n      // if (this.resData === null || this.resData === 'loading...') {\n      //   try {\n      //     this.resData = q;\n      //     // const { data } = await requestMixin.methods.getXssRequest(q);\n      //     // this.resData = data;\n      //   } catch (e) {\n      //     console.error(e);\n      //   }\n      // }\n      // alert(this.resData);\n    },\n  },\n  created() {\n    chrome.storage.local.get(['test'], function (res) {\n      this.test = res.test;\n      console.log('test set to ', res.test);\n    });\n    this.init();\n  },\n};\n</script>\n\n<style>\n.main_app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 40px;\n  width: 200px;\n}\n.main_app div {\n  font-size: large;\n}\n.main_app button {\n  margin-bottom: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}