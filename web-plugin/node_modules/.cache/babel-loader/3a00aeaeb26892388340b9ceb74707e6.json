{"ast":null,"code":"import axios from \"axios\";\nimport { registerMessageHandler } from 'axios-chrome-messaging-adapter';\nimport fetchAdapter from '@vespaiach/axios-fetch-adapter';\nconst APIURL = \"http://127.0.0.1:5000\"; // register the adapter message hanlder\n// registerMessageHandler()\n// const instance = axios.create({\n//   baseURL: 'http://127.0.0.1:5000',\n//   timeout: 1000,\n//   adapter: fetchAdapter\n// })\n\nregisterMessageHandler({\n  adapter: fetchAdapter\n});\n\nfunction sendReq(q) {\n  return axios({\n    url: APIURL + '/api/model?q=' + q,\n    method: 'post',\n    // data: {q: q},\n    adapter: fetchAdapter\n  }); //axios.post(`${APIURL}/api/model`, {q})\n}\n\nchrome.tabs.onUpdated.addListener(async function (tabId, changeInfo, tab) {\n  if (changeInfo.url) {\n    try {\n      let {\n        data: res\n      } = await sendReq(changeInfo.url);\n      console.log(res);\n    } catch (err) {\n      console.error(err.response.data);\n    } // chrome.storage.local.set({xss: res});\n\n  }\n});","map":{"version":3,"names":["axios","registerMessageHandler","fetchAdapter","APIURL","adapter","sendReq","q","url","method","chrome","tabs","onUpdated","addListener","tabId","changeInfo","tab","data","res","console","log","err","error","response"],"sources":["/Users/p/Desktop/thesis/lab/code/web-plugin/src/entry/background.js"],"sourcesContent":["import axios from \"axios\"\nimport { registerMessageHandler } from 'axios-chrome-messaging-adapter'\nimport fetchAdapter from '@vespaiach/axios-fetch-adapter'\n\nconst APIURL = \"http://127.0.0.1:5000\"\n// register the adapter message hanlder\n// registerMessageHandler()\n// const instance = axios.create({\n//   baseURL: 'http://127.0.0.1:5000',\n//   timeout: 1000,\n//   adapter: fetchAdapter\n// })\nregisterMessageHandler({ adapter: fetchAdapter })\n\nfunction sendReq(q) {\n  return axios({\n    url: APIURL + '/api/model?q=' + q,\n    method: 'post',\n    // data: {q: q},\n    adapter: fetchAdapter\n  }) //axios.post(`${APIURL}/api/model`, {q})\n}\n\nchrome.tabs.onUpdated.addListener(async function\n  (tabId, changeInfo, tab) {\n    if (changeInfo.url) {\n      try{\n        let {data: res} = await sendReq(changeInfo.url)\n        console.log(res);\n      } catch(err) {\n        console.error(err.response.data)\n      }\n      // chrome.storage.local.set({xss: res});\n    }\n  }\n);"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,sBAAT,QAAuC,gCAAvC;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AAEA,MAAMC,MAAM,GAAG,uBAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAF,sBAAsB,CAAC;EAAEG,OAAO,EAAEF;AAAX,CAAD,CAAtB;;AAEA,SAASG,OAAT,CAAiBC,CAAjB,EAAoB;EAClB,OAAON,KAAK,CAAC;IACXO,GAAG,EAAEJ,MAAM,GAAG,eAAT,GAA2BG,CADrB;IAEXE,MAAM,EAAE,MAFG;IAGX;IACAJ,OAAO,EAAEF;EAJE,CAAD,CAAZ,CADkB,CAMf;AACJ;;AAEDO,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBC,WAAtB,CAAkC,gBAC/BC,KAD+B,EACxBC,UADwB,EACZC,GADY,EACP;EACvB,IAAID,UAAU,CAACP,GAAf,EAAoB;IAClB,IAAG;MACD,IAAI;QAACS,IAAI,EAAEC;MAAP,IAAc,MAAMZ,OAAO,CAACS,UAAU,CAACP,GAAZ,CAA/B;MACAW,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAHD,CAGE,OAAMG,GAAN,EAAW;MACXF,OAAO,CAACG,KAAR,CAAcD,GAAG,CAACE,QAAJ,CAAaN,IAA3B;IACD,CANiB,CAOlB;;EACD;AACF,CAXH"},"metadata":{},"sourceType":"module"}