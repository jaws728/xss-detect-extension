{"ast":null,"code":"import axios from \"axios\";\nimport { registerMessageHandler } from 'axios-chrome-messaging-adapter';\nimport fetchAdapter from '@vespaiach/axios-fetch-adapter';\nconst APIURL = \"http://127.0.0.1:5000\"; // register the adapter message hanlder\n// registerMessageHandler()\n\nconst instance = axios.create({\n  baseURL: 'http://127.0.0.1:5000',\n  timeout: 1000,\n  adapter: fetchAdapter\n});\nregisterMessageHandler({\n  adapter: fetchAdapter\n});\n\nasync function sendReq(q) {\n  return await axios.request({\n    url: '/api/model',\n    method: 'post',\n    data: {\n      q: q\n    },\n    adapter: fetchAdapter\n  }); //axios.post(`${APIURL}/api/model`, {q})\n}\n\nchrome.tabs.onUpdated.addListener(async function (tabId, changeInfo, tab) {\n  // read changeInfo data and do something with it (like read the url)\n  if (changeInfo.url) {\n    // chrome.storage.local.set({url: changeInfo.url});\n    // chrome.storage.local.get(['url'], function(res) {\n    //   console.log(res);\n    // });\n    let res = sendReq(changeInfo.url);\n    console.log(res); // chrome.storage.local.set({xss: res});\n  }\n});","map":{"version":3,"names":["axios","registerMessageHandler","fetchAdapter","APIURL","instance","create","baseURL","timeout","adapter","sendReq","q","request","url","method","data","chrome","tabs","onUpdated","addListener","tabId","changeInfo","tab","res","console","log"],"sources":["/Users/p/Desktop/thesis/lab/code/web-plugin/src/entry/background.js"],"sourcesContent":["import axios from \"axios\"\nimport { registerMessageHandler } from 'axios-chrome-messaging-adapter'\nimport fetchAdapter from '@vespaiach/axios-fetch-adapter'\n\nconst APIURL = \"http://127.0.0.1:5000\"\n// register the adapter message hanlder\n// registerMessageHandler()\nconst instance = axios.create({\n  baseURL: 'http://127.0.0.1:5000',\n  timeout: 1000,\n  adapter: fetchAdapter\n})\nregisterMessageHandler({ adapter: fetchAdapter })\n\nasync function sendReq(q) {\n  return await axios.request({\n    url: '/api/model',\n    method: 'post',\n    data: {q: q},\n    adapter: fetchAdapter\n  }) //axios.post(`${APIURL}/api/model`, {q})\n}\n\nchrome.tabs.onUpdated.addListener(async function\n  (tabId, changeInfo, tab) {\n    // read changeInfo data and do something with it (like read the url)\n    if (changeInfo.url) {\n      // chrome.storage.local.set({url: changeInfo.url});\n      // chrome.storage.local.get(['url'], function(res) {\n      //   console.log(res);\n      // });\n      let res = sendReq(changeInfo.url)\n      console.log(res);\n      // chrome.storage.local.set({xss: res});\n    }\n  }\n);"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,sBAAT,QAAuC,gCAAvC;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AAEA,MAAMC,MAAM,GAAG,uBAAf,C,CACA;AACA;;AACA,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;EAC5BC,OAAO,EAAE,uBADmB;EAE5BC,OAAO,EAAE,IAFmB;EAG5BC,OAAO,EAAEN;AAHmB,CAAb,CAAjB;AAKAD,sBAAsB,CAAC;EAAEO,OAAO,EAAEN;AAAX,CAAD,CAAtB;;AAEA,eAAeO,OAAf,CAAuBC,CAAvB,EAA0B;EACxB,OAAO,MAAMV,KAAK,CAACW,OAAN,CAAc;IACzBC,GAAG,EAAE,YADoB;IAEzBC,MAAM,EAAE,MAFiB;IAGzBC,IAAI,EAAE;MAACJ,CAAC,EAAEA;IAAJ,CAHmB;IAIzBF,OAAO,EAAEN;EAJgB,CAAd,CAAb,CADwB,CAMrB;AACJ;;AAEDa,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBC,WAAtB,CAAkC,gBAC/BC,KAD+B,EACxBC,UADwB,EACZC,GADY,EACP;EACvB;EACA,IAAID,UAAU,CAACR,GAAf,EAAoB;IAClB;IACA;IACA;IACA;IACA,IAAIU,GAAG,GAAGb,OAAO,CAACW,UAAU,CAACR,GAAZ,CAAjB;IACAW,OAAO,CAACC,GAAR,CAAYF,GAAZ,EANkB,CAOlB;EACD;AACF,CAZH"},"metadata":{},"sourceType":"module"}