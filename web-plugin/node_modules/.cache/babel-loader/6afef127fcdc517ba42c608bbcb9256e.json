{"ast":null,"code":"import { requestMixin } from '@/mixins';\nexport default {\n  name: 'popupView',\n  mixins: [requestMixin],\n\n  data() {\n    return {\n      resData: 'loading...',\n      q: '',\n      bg: null\n    };\n  },\n\n  methods: {\n    async init() {\n      this.bg = chrome.extension.getBackgroundPage().q; // this.q = bg.q;\n\n      chrome.storage.local.get('url', function (res) {\n        this.q = res;\n      }); // this.resData = this.q;\n      // chrome.storage.local.get(['xss'], function (res) {\n      //   if (res !== null) {\n      //     this.resData = res.xss;\n      //   }\n      // });\n      // if (window.localStorage.getItem('xss') !== null) {\n      //   this.resData = window.localStorage.getItem('xss');\n      // }\n      // if (this.resData === null || this.resData === 'loading...') {\n      //   try {\n      //     this.resData = q;\n      //     // const { data } = await requestMixin.methods.getXssRequest(q);\n      //     // this.resData = data;\n      //   } catch (e) {\n      //     console.error(e);\n      //   }\n      // }\n\n      alert(this.resData);\n    }\n\n  },\n\n  created() {\n    this.init();\n  }\n\n};","map":{"version":3,"mappings":"AAcA,SAASA,YAAT,QAA6B,UAA7B;AACA,eAAe;EACbC,IAAI,EAAE,WADO;EAEbC,MAAM,EAAE,CAACF,YAAD,CAFK;;EAGbG,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,YADJ;MAELC,CAAC,EAAE,EAFE;MAGLC,EAAE,EAAE;IAHC,CAAP;EAKD,CATY;;EAUbC,OAAO,EAAE;IACP,MAAMC,IAAN,GAAa;MACX,KAAKF,EAAL,GAAUG,MAAM,CAACC,SAAP,CAAiBC,iBAAjB,GAAqCN,CAA/C,CADW,CAEX;;MACAI,MAAM,CAACG,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,KAAzB,EAAgC,UAAUC,GAAV,EAAe;QAC7C,KAAKV,CAAL,GAASU,GAAT;MACD,CAFD,EAHW,CAMX;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACAC,KAAK,CAAC,KAAKZ,OAAN,CAAL;IACD;;EA1BM,CAVI;;EAsCba,OAAO,GAAG;IACR,KAAKT,IAAL;EACD;;AAxCY,CAAf","names":["requestMixin","name","mixins","data","resData","q","bg","methods","init","chrome","extension","getBackgroundPage","storage","local","get","res","alert","created"],"sourceRoot":"","sources":["D:\\jaws7\\Desktop\\lab\\code\\web-plugin\\src\\view\\popup.vue"],"sourcesContent":["<template>\n  <div class=\"main_app\">\n    <button @click.prevent=\"init\">Check XSS</button>\n    <div>{{ resData }}</div>\n    <div>----------</div>\n    <div>{{ q }}</div>\n    <div>----------</div>\n    <div>{{ bg }}</div>\n    <!-- <div v-if=\"isXss\">There is a XSS attack!</div>\n    <div v-else>This site is safe.</div> -->\n  </div>\n</template>\n\n<script>\nimport { requestMixin } from '@/mixins';\nexport default {\n  name: 'popupView',\n  mixins: [requestMixin],\n  data() {\n    return {\n      resData: 'loading...',\n      q: '',\n      bg: null,\n    };\n  },\n  methods: {\n    async init() {\n      this.bg = chrome.extension.getBackgroundPage().q;\n      // this.q = bg.q;\n      chrome.storage.local.get('url', function (res) {\n        this.q = res;\n      });\n      // this.resData = this.q;\n      // chrome.storage.local.get(['xss'], function (res) {\n      //   if (res !== null) {\n      //     this.resData = res.xss;\n      //   }\n      // });\n      // if (window.localStorage.getItem('xss') !== null) {\n      //   this.resData = window.localStorage.getItem('xss');\n      // }\n      // if (this.resData === null || this.resData === 'loading...') {\n      //   try {\n      //     this.resData = q;\n      //     // const { data } = await requestMixin.methods.getXssRequest(q);\n      //     // this.resData = data;\n      //   } catch (e) {\n      //     console.error(e);\n      //   }\n      // }\n      alert(this.resData);\n    },\n  },\n  created() {\n    this.init();\n  },\n};\n</script>\n\n<style>\n.main_app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 40px;\n  width: 200px;\n}\n.main_app div {\n  font-size: large;\n}\n.main_app button {\n  margin-bottom: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}